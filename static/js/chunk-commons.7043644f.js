(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-commons"],{"1c4e":function(e,t,i){},2201:function(e,t,i){"use strict";var a=i("6da5"),s=i.n(a);s.a},"2c72":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"components-container"},[i("div",{staticClass:"title"},[e._v(e._s(e.title)+": "),i("div",{staticClass:"btn-upload",on:{click:function(t){e.imagecropperShow=!0}}},[i("font-awesome-icon",{attrs:{icon:"angle-double-up"}}),e._v("  Upload")],1)]),e._v(" "),i("pan-thumb",{attrs:{image:e.storage_public+e.img,hoverable:!1}}),e._v(" "),i("image-cropper",{directives:[{name:"show",rawName:"v-show",value:e.imagecropperShow,expression:"imagecropperShow"}],key:e.imagecropperKey,attrs:{width:300,height:300,url:e.uploadUri,"lang-type":"en"},on:{close:e.close,"crop-upload-success":e.cropSuccess}})],1)},s=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],staticClass:"vue-image-crop-upload"},[i("div",{staticClass:"vicp-wrap"},[i("div",{staticClass:"vicp-close",on:{click:e.off}},[i("i",{staticClass:"vicp-icon4"})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.step,expression:"step == 1"}],staticClass:"vicp-step1"},[i("div",{staticClass:"vicp-drop-area",on:{dragleave:e.preventDefault,dragover:e.preventDefault,dragenter:e.preventDefault,click:e.handleClick,drop:e.handleChange}},[i("i",{directives:[{name:"show",rawName:"v-show",value:1!=e.loading,expression:"loading != 1"}],staticClass:"vicp-icon1"},[i("i",{staticClass:"vicp-icon1-arrow"}),e._v(" "),i("i",{staticClass:"vicp-icon1-body"}),e._v(" "),i("i",{staticClass:"vicp-icon1-bottom"})]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:1!==e.loading,expression:"loading !== 1"}],staticClass:"vicp-hint"},[e._v(e._s(e.lang.hint))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.isSupported,expression:"!isSupported"}],staticClass:"vicp-step-supported-hint"},[e._v(e._s(e.lang.stepSupported))]),e._v(" "),1==e.step?i("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fileinput",attrs:{type:"file"},on:{change:e.handleChange}}):e._e()]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasError,expression:"hasError"}],staticClass:"vicp-error"},[i("i",{staticClass:"vicp-icon2"}),e._v(" "+e._s(e.errorMsg)+"\n      ")]),e._v(" "),i("div",{staticClass:"vicp-operate"},[i("a",{on:{click:e.off,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.off))])])]),e._v(" "),2==e.step?i("div",{staticClass:"vicp-step2"},[i("div",{staticClass:"vicp-crop"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-left"},[i("div",{staticClass:"vicp-img-container"},[i("img",{ref:"img",staticClass:"vicp-img",style:e.sourceImgStyle,attrs:{src:e.sourceImgUrl,draggable:"false"},on:{drag:e.preventDefault,dragstart:e.preventDefault,dragend:e.preventDefault,dragleave:e.preventDefault,dragover:e.preventDefault,dragenter:e.preventDefault,drop:e.preventDefault,touchstart:e.imgStartMove,touchmove:e.imgMove,touchend:e.createImg,touchcancel:e.createImg,mousedown:e.imgStartMove,mousemove:e.imgMove,mouseup:e.createImg,mouseout:e.createImg}}),e._v(" "),i("div",{staticClass:"vicp-img-shade vicp-img-shade-1",style:e.sourceImgShadeStyle}),e._v(" "),i("div",{staticClass:"vicp-img-shade vicp-img-shade-2",style:e.sourceImgShadeStyle})]),e._v(" "),i("div",{staticClass:"vicp-range"},[i("input",{attrs:{type:"range",step:"1",min:"0",max:"100"},domProps:{value:e.scale.range},on:{input:e.zoomChange}}),e._v(" "),i("i",{staticClass:"vicp-icon5",on:{mousedown:e.startZoomSub,mouseout:e.endZoomSub,mouseup:e.endZoomSub}}),e._v(" "),i("i",{staticClass:"vicp-icon6",on:{mousedown:e.startZoomAdd,mouseout:e.endZoomAdd,mouseup:e.endZoomAdd}})]),e._v(" "),e.stepRotate?e._e():i("div",{staticClass:"vicp-rotate"},[i("i",{on:{mousedown:e.startRotateLeft,mouseout:e.endRotate,mouseup:e.endRotate}},[e._v("↺")]),e._v(" "),i("i",{on:{mousedown:e.startRotateRight,mouseout:e.endRotate,mouseup:e.endRotate}},[e._v("↻")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-right"},[i("div",{staticClass:"vicp-preview"},[e.stepSquare?e._e():i("div",{staticClass:"vicp-preview-item"},[i("img",{style:e.previewStyle,attrs:{src:e.createImgUrl}}),e._v(" "),i("span",[e._v(e._s(e.lang.preview))])])])])]),e._v(" "),i("div",{staticClass:"vicp-operate"},[i("a",{on:{click:function(t){return e.setStep(1)},mousedown:e.ripple}},[e._v(e._s(e.lang.btn.back))]),e._v(" "),i("a",{staticClass:"vicp-operate-btn",on:{click:e.prepareUpload,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.save))])])]):e._e(),e._v(" "),3==e.step?i("div",{staticClass:"vicp-step3"},[i("div",{staticClass:"vicp-upload"},[i("span",{directives:[{name:"show",rawName:"v-show",value:1===e.loading,expression:"loading === 1"}],staticClass:"vicp-loading"},[e._v(e._s(e.lang.loading))]),e._v(" "),i("div",{staticClass:"vicp-progress-wrap"},[i("span",{directives:[{name:"show",rawName:"v-show",value:1===e.loading,expression:"loading === 1"}],staticClass:"vicp-progress",style:e.progressStyle})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasError,expression:"hasError"}],staticClass:"vicp-error"},[i("i",{staticClass:"vicp-icon2"}),e._v(" "+e._s(e.errorMsg)+"\n        ")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===e.loading,expression:"loading === 2"}],staticClass:"vicp-success"},[i("i",{staticClass:"vicp-icon3"}),e._v(" "+e._s(e.lang.success)+"\n        ")])]),e._v(" "),i("div",{staticClass:"vicp-operate"},[i("a",{on:{click:function(t){return e.setStep(2)},mousedown:e.ripple}},[e._v(e._s(e.lang.btn.back))]),e._v(" "),i("a",{on:{click:e.off,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.close))])])]):e._e(),e._v(" "),i("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"canvas",attrs:{width:e.width,height:e.height}})])])},n=[],r=(i("456d"),i("ac6a"),i("53ca")),c=(i("c5f6"),i("7f8c")),l={zh:{hint:"点击，或拖动图片至此处",loading:"正在上传……",noSupported:"浏览器不支持该功能，请使用IE10以上或其他现在浏览器！",success:"上传成功",fail:"图片上传失败",preview:"头像预览",btn:{off:"取消",close:"关闭",back:"上一步",save:"保存"},error:{onlyImg:"仅限图片格式",outOfSize:"单文件大小不能超过 ",lowestPx:"图片最低像素为（宽*高）："}},"zh-tw":{hint:"點擊，或拖動圖片至此處",loading:"正在上傳……",noSupported:"瀏覽器不支持該功能，請使用IE10以上或其他現代瀏覽器！",success:"上傳成功",fail:"圖片上傳失敗",preview:"頭像預覽",btn:{off:"取消",close:"關閉",back:"上一步",save:"保存"},error:{onlyImg:"僅限圖片格式",outOfSize:"單文件大小不能超過 ",lowestPx:"圖片最低像素為（寬*高）："}},en:{hint:"Click vào đây để tải file lên",loading:"Đang tải…",noSupported:"Browser is not supported, please use IE10+ or other browsers",success:"Upload thành công",fail:"Upload lỗi",preview:"Trước",btn:{off:"Hủy",close:"Tắt",back:"Trở lại",save:"Lưu"},error:{onlyImg:"Image only",outOfSize:"Image exceeds size limit: ",lowestPx:"Image's size is too low. Expected at least: "}},vi:{hint:"Nhấp chuột hoặc kéo file vào đây để tải lên",loading:"Đang tải lên…",noSupported:"Trình duyệt không hỗ trợ, Xin vui lòng dùng IE10+ hoặc trình duyệt khác",success:"Tải lên thành công",fail:"Tải lên thất bại",preview:"Xem trước",btn:{off:"Hủy",close:"Đóng",back:"Quay lại",save:"Lưu"},error:{onlyImg:"Chỉ hỗ trợ hình ảnh",outOfSize:"Kích thước vượt quá: ",lowestPx:"Kích thước hình ảnh quá nhỏ. Tối thiểu là: "}},ro:{hint:"Atinge sau trage fișierul aici",loading:"Se încarcă",noSupported:"Browser-ul tău nu suportă acest feature. Te rugăm încearcă cu alt browser.",success:"S-a încărcat cu succes",fail:"A apărut o problemă la încărcare",preview:"Previzualizează",btn:{off:"Anulează",close:"Închide",back:"Înapoi",save:"Salvează"},error:{onlyImg:"Doar imagini",outOfSize:"Imaginea depășește limita de: ",loewstPx:"Imaginea este prea mică; Minim: "}},ru:{hint:"Нажмите, или перетащите файл в это окно",loading:"Загружаю……",noSupported:"Ваш браузер не поддерживается, пожалуйста, используйте IE10 + или другие браузеры",success:"Загрузка выполнена успешно",fail:"Ошибка загрузки",preview:"Предпросмотр",btn:{off:"Отменить",close:"Закрыть",back:"Назад",save:"Сохранить"},error:{onlyImg:"Только изображения",outOfSize:"Изображение превышает предельный размер: ",lowestPx:"Минимальный размер изображения: "}},"pt-br":{hint:"Clique ou arraste o arquivo aqui para carregar",loading:"Carregando…",noSupported:"Browser não suportado, use o IE10+ ou outro browser",success:"Sucesso ao carregar imagem",fail:"Falha ao carregar imagem",preview:"Pré-visualizar",btn:{off:"Cancelar",close:"Fechar",back:"Voltar",save:"Salvar"},error:{onlyImg:"Apenas imagens",outOfSize:"A imagem excede o limite de tamanho: ",lowestPx:"O tamanho da imagem é muito pequeno. Tamanho mínimo: "}},fr:{hint:"Cliquez ou glissez le fichier ici.",loading:"Téléchargement…",noSupported:"Votre navigateur n'est pas supporté. Utilisez IE10 + ou un autre navigateur s'il vous plaît.",success:"Téléchargement réussit",fail:"Téléchargement echoué",preview:"Aperçu",btn:{off:"Annuler",close:"Fermer",back:"Retour",save:"Enregistrer"},error:{onlyImg:"Image uniquement",outOfSize:"L'image sélectionnée dépasse la taille maximum: ",lowestPx:"L'image sélectionnée est trop petite. Dimensions attendues: "}},nl:{hint:"Klik hier of sleep een afbeelding in dit vlak",loading:"Uploaden…",noSupported:"Je browser wordt helaas niet ondersteund. Gebruik IE10+ of een andere browser.",success:"Upload succesvol",fail:"Upload mislukt",preview:"Voorbeeld",btn:{off:"Annuleren",close:"Sluiten",back:"Terug",save:"Opslaan"},error:{onlyImg:"Alleen afbeeldingen",outOfSize:"De afbeelding is groter dan: ",lowestPx:"De afbeelding is te klein! Minimale afmetingen: "}},tr:{hint:"Tıkla veya yüklemek istediğini buraya sürükle",loading:"Yükleniyor…",noSupported:"Tarayıcı desteklenmiyor, lütfen IE10+ veya farklı tarayıcı kullanın",success:"Yükleme başarılı",fail:"Yüklemede hata oluştu",preview:"Önizle",btn:{off:"İptal",close:"Kapat",back:"Geri",save:"Kaydet"},error:{onlyImg:"Sadece resim",outOfSize:"Resim yükleme limitini aşıyor: ",lowestPx:"Resmin boyutu çok küçük. En az olması gereken: "}},"es-MX":{hint:"Selecciona o arrastra una imagen",loading:"Subiendo...",noSupported:"Tu navegador no es soportado, porfavor usa IE10+ u otros navegadores mas recientes",success:"Subido exitosamente",fail:"Sucedió un error",preview:"Vista previa",btn:{off:"Cancelar",close:"Cerrar",back:"Atras",save:"Guardar"},error:{onlyImg:"Unicamente imagenes",outOfSize:"La imagen excede el tamaño maximo:",lowestPx:"La imagen es demasiado pequeño. Se espera por lo menos:"}},de:{hint:"Klick hier oder zieh eine Datei hier rein zum Hochladen",loading:"Hochladen…",noSupported:"Browser wird nicht unterstützt, bitte verwende IE10+ oder andere Browser",success:"Upload erfolgreich",fail:"Upload fehlgeschlagen",preview:"Vorschau",btn:{off:"Abbrechen",close:"Schließen",back:"Zurück",save:"Speichern"},error:{onlyImg:"Nur Bilder",outOfSize:"Das Bild ist zu groß: ",lowestPx:"Das Bild ist zu klein. Mindestens: "}},ja:{hint:"クリック・ドラッグしてファイルをアップロード",loading:"アップロード中...",noSupported:"このブラウザは対応されていません。IE10+かその他の主要ブラウザをお使いください。",success:"アップロード成功",fail:"アップロード失敗",preview:"プレビュー",btn:{off:"キャンセル",close:"閉じる",back:"戻る",save:"保存"},error:{onlyImg:"画像のみ",outOfSize:"画像サイズが上限を超えています。上限: ",lowestPx:"画像が小さすぎます。最小サイズ: "}}},u=i("cff6"),h=(i("34ef"),i("28a5"),function(e,t){e=e.split(",")[1],e=window.atob(e);for(var i=new Uint8Array(e.length),a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return new Blob([i],{type:t})}),d=function(e,t){var i=Object.assign({ele:e.target,type:"hit",bgc:"rgba(0, 0, 0, 0.15)"},t),a=i.ele;if(a){var s=a.getBoundingClientRect(),o=a.querySelector(".e-ripple");switch(o?o.className="e-ripple":(o=document.createElement("span"),o.className="e-ripple",o.style.height=o.style.width=Math.max(s.width,s.height)+"px",a.appendChild(o)),i.type){case"center":o.style.top=s.height/2-o.offsetHeight/2+"px",o.style.left=s.width/2-o.offsetWidth/2+"px";break;default:o.style.top=e.pageY-s.top-o.offsetHeight/2-document.body.scrollTop+"px",o.style.left=e.pageX-s.left-o.offsetWidth/2-document.body.scrollLeft+"px"}return o.style.backgroundColor=i.bgc,o.className="e-ripple z-active",!1}},p={props:{field:{type:String,default:"base64_image"},ki:{default:0},value:{default:!0},url:{type:String,default:""},params:{type:Object,default:null},headers:{type:Object,default:null},width:{type:Number,default:200},height:{type:Number,default:200},stepRotate:{type:Boolean,default:!0},stepCircle:{type:Boolean,default:!1},stepSquare:{type:Boolean,default:!1},maxSize:{type:Number,default:10240},langType:{type:String,default:"en"},langExt:{type:Object,default:null},imgFormat:{type:String,default:"png"},withCredentials:{type:Boolean,default:!1}},data:function(){var e=this,t=e.imgFormat,i=e.langType,a=e.langExt,s=e.width,o=e.height,n=!0,r=["jpg","png"],c=-1===r.indexOf(t)?"jpg":t,h=l[i]?l[i]:l["en"],d=u["a"][c];return e.imgFormat=c,a&&Object.assign(h,a),"function"!==typeof FormData&&(n=!1),{mime:d,lang:h,isSupported:n,isSupportTouch:document.hasOwnProperty("ontouchstart"),step:1,loading:0,progress:0,hasError:!1,errorMsg:"",ratio:s/o,sourceImg:null,sourceImgUrl:"",createImgUrl:"",sourceImgMouseDown:{on:!1,mX:0,mY:0,x:0,y:0},previewContainer:{width:100,height:100},sourceImgContainer:{width:240,height:184},scale:{zoomAddOn:!1,zoomSubOn:!1,range:1,rotateLeft:!1,rotateRight:!1,degree:0,x:0,y:0,width:0,height:0,maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,naturalWidth:0,naturalHeight:0}}},computed:{progressStyle:function(){var e=this.progress;return{width:e+"%"}},sourceImgStyle:function(){var e=this.scale,t=this.sourceImgMasking,i=e.y+t.y+"px",a=e.x+t.x+"px";return{top:i,left:a,width:e.width+"px",height:e.height+"px",transform:"rotate("+e.degree+"deg)","-ms-transform":"rotate("+e.degree+"deg)","-moz-transform":"rotate("+e.degree+"deg)","-webkit-transform":"rotate("+e.degree+"deg)","-o-transform":"rotate("+e.degree+"deg)"}},sourceImgMasking:function(){var e=this.width,t=this.height,i=this.ratio,a=this.sourceImgContainer,s=a,o=s.width/s.height,n=0,r=0,c=s.width,l=s.height,u=1;return i<o&&(u=s.height/t,c=s.height*i,n=(s.width-c)/2),i>o&&(u=s.width/e,l=s.width/i,r=(s.height-l)/2),{scale:u,x:n,y:r,width:c,height:l}},sourceImgShadeStyle:function(){var e=this.sourceImgMasking,t=this.sourceImgContainer,i=t,a=e,s=a.width===i.width?a.width:(i.width-a.width)/2,o=a.height===i.height?a.height:(i.height-a.height)/2;return{width:s+"px",height:o+"px"}},previewStyle:function(){this.width,this.height;var e=this.ratio,t=this.previewContainer,i=t,a=i.width,s=i.height,o=a/s;return e<o&&(a=i.height*e),e>o&&(s=i.width/e),{width:a+"px",height:s+"px"}}},watch:{value:function(e){e&&1!==this.loading&&this.reset()}},methods:{ripple:function(e){d(e)},off:function(){var e=this;setTimeout((function(){e.$emit("input",!1),e.$emit("close"),3===e.step&&2===e.loading&&e.setStep(1)}),200)},setStep:function(e){var t=this;setTimeout((function(){t.step=e}),200)},preventDefault:function(e){return e.preventDefault(),!1},handleClick:function(e){1!==this.loading&&e.target!==this.$refs.fileinput&&(e.preventDefault(),document.activeElement!==this.$refs&&this.$refs.fileinput.click())},handleChange:function(e){if(e.preventDefault(),1!==this.loading){var t=e.target.files||e.dataTransfer.files;this.reset(),this.checkFile(t[0])&&this.setSourceImg(t[0])}},checkFile:function(e){var t=this,i=t.lang,a=t.maxSize;return-1===e.type.indexOf("image")?(t.hasError=!0,t.errorMsg=i.error.onlyImg,!1):!(e.size/1024>a)||(t.hasError=!0,t.errorMsg=i.error.outOfSize+a+"kb",!1)},reset:function(){var e=this;e.loading=0,e.hasError=!1,e.errorMsg="",e.progress=0},setSourceImg:function(e){var t=this,i=new FileReader;i.onload=function(e){t.sourceImgUrl=i.result,t.startCrop()},i.readAsDataURL(e)},startCrop:function(){var e=this,t=e.width,i=e.height,a=e.ratio,s=e.scale,o=e.sourceImgUrl,n=e.sourceImgMasking,r=e.lang,c=n,l=new Image;l.src=o,l.onload=function(){var o=l.naturalWidth,n=l.naturalHeight,u=o/n,h=c.width,d=c.height,p=0,g=0;if(o<t||n<i)return e.hasError=!0,e.errorMsg=r.error.lowestPx+t+"*"+i,!1;a>u&&(d=h/u,g=(c.height-d)/2),a<u&&(h=d*u,p=(c.width-h)/2),s.range=0,s.x=p,s.y=g,s.width=h,s.height=d,s.degree=0,s.minWidth=h,s.minHeight=d,s.maxWidth=o*c.scale,s.maxHeight=n*c.scale,s.naturalWidth=o,s.naturalHeight=n,e.sourceImg=l,e.createImg(),e.setStep(2)}},imgStartMove:function(e){if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;var t=e.targetTouches?e.targetTouches[0]:e,i=this.sourceImgMouseDown,a=this.scale,s=i;s.mX=t.screenX,s.mY=t.screenY,s.x=a.x,s.y=a.y,s.on=!0},imgMove:function(e){if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;var t=e.targetTouches?e.targetTouches[0]:e,i=this.sourceImgMouseDown,a=i.on,s=i.mX,o=i.mY,n=i.x,r=i.y,c=this.scale,l=this.sourceImgMasking,u=l,h=t.screenX,d=t.screenY,p=h-s,g=d-o,m=n+p,f=r+g;a&&(m>0&&(m=0),f>0&&(f=0),m<u.width-c.width&&(m=u.width-c.width),f<u.height-c.height&&(f=u.height-c.height),c.x=m,c.y=f)},startRotateRight:function(e){var t=this,i=t.scale;function a(){if(i.rotateRight){var e=++i.degree;t.createImg(e),setTimeout((function(){a()}),60)}}i.rotateRight=!0,a()},startRotateLeft:function(e){var t=this,i=t.scale;function a(){if(i.rotateLeft){var e=--i.degree;t.createImg(e),setTimeout((function(){a()}),60)}}i.rotateLeft=!0,a()},endRotate:function(){var e=this.scale;e.rotateLeft=!1,e.rotateRight=!1},startZoomAdd:function(e){var t=this,i=t.scale;function a(){if(i.zoomAddOn){var e=i.range>=100?100:++i.range;t.zoomImg(e),setTimeout((function(){a()}),60)}}i.zoomAddOn=!0,a()},endZoomAdd:function(e){this.scale.zoomAddOn=!1},startZoomSub:function(e){var t=this,i=t.scale;function a(){if(i.zoomSubOn){var e=i.range<=0?0:--i.range;t.zoomImg(e),setTimeout((function(){a()}),60)}}i.zoomSubOn=!0,a()},endZoomSub:function(e){var t=this.scale;t.zoomSubOn=!1},zoomChange:function(e){this.zoomImg(e.target.value)},zoomImg:function(e){var t=this,i=this.sourceImgMasking,a=(this.sourceImgMouseDown,this.scale),s=a.maxWidth,o=a.maxHeight,n=a.minWidth,r=a.minHeight,c=a.width,l=a.height,u=a.x,h=a.y,d=(a.range,i),p=d.width,g=d.height,m=n+(s-n)*e/100,f=r+(o-r)*e/100,v=p/2-m/c*(p/2-u),w=g/2-f/l*(g/2-h);v>0&&(v=0),w>0&&(w=0),v<p-m&&(v=p-m),w<g-f&&(w=g-f),a.x=v,a.y=w,a.width=m,a.height=f,a.range=e,setTimeout((function(){a.range===e&&t.createImg()}),300)},createImg:function(e){var t=this,i=t.mime,a=t.sourceImg,s=t.scale,o=s.x,n=s.y,r=s.width,c=s.height,l=s.degree,u=t.sourceImgMasking.scale,h=t.$refs.canvas,d=h.getContext("2d");e&&(t.sourceImgMouseDown.on=!1),h.width=t.width,h.height=t.height,d.clearRect(0,0,t.width,t.height),d.fillStyle="#fff",d.fillRect(0,0,t.width,t.height),d.translate(.5*t.width,.5*t.height),d.rotate(Math.PI*l/180),d.translate(.5*-t.width,.5*-t.height),d.drawImage(a,o/u,n/u,r/u,c/u),t.createImgUrl=h.toDataURL(i)},prepareUpload:function(){var e=this.url,t=this.createImgUrl,i=this.field,a=this.ki;this.$emit("crop-success",t,i,a),"string"===typeof e&&e?this.upload():this.off()},upload:function(){var e=this,t=this.lang,i=this.imgFormat,a=this.mime,s=this.url,o=this.params,n=(this.headers,this.field),l=this.ki,u=this.createImgUrl,d=(this.withCredentials,new FormData);d.append(n,h(u,a),n+"."+i),"object"===Object(r["a"])(o)&&o&&Object.keys(o).forEach((function(e){d.append(e,o[e])}));e.reset(),e.loading=1,e.setStep(3),Object(c["a"])({url:s,method:"post",data:d}).then((function(t){e.loading=2,e.$emit("crop-upload-success",t.data)})).catch((function(i){e.value&&(e.loading=3,e.hasError=!0,e.errorMsg=t.fail,e.$emit("crop-upload-fail",i,n,l))}))}},created:function(){var e=this;document.addEventListener("keyup",(function(t){!e.value||"Escape"!==t.key&&27!==t.keyCode||e.off()}))}},g=p,m=(i("2201"),i("2877")),f=Object(m["a"])(g,o,n,!1,null,null,null),v=f.exports,w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{"pan-item":1,"pan-item-hover":e.hoverable},style:{zIndex:e.zIndex,height:e.height,width:e.width}},[i("div",{staticClass:"pan-info"},[i("div",{staticClass:"pan-info-roles-container"},[e._t("default")],2)]),e._v(" "),i("img",{staticClass:"pan-thumb",attrs:{src:e.image}})])},b=[],y={name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"},hoverable:{type:Boolean,default:!0}}},S=y,k=(i("b4e5"),Object(m["a"])(S,w,b,!1,null,"eb788aee",null)),C=k.exports,x={name:"AvatarUpload",components:{ImageCropper:v,PanThumb:C},props:{img:{type:String,required:!0},apiUrl:{type:String,required:!0},folderUpload:{type:String,required:!0},title:{type:String,default:function(){return""}}},data:function(){return{storage_public:"",uploadUri:"",imagecropperShow:!1,imagecropperKey:0}},mounted:function(){this.uploadUri=this.apiUrl,this.storage_public=this.folderUpload},methods:{cropSuccess:function(e){this.imagecropperShow=!1,this.imagecropperKey=this.imagecropperKey+1;var t=e;this.$emit("update:img",t)},close:function(){this.imagecropperShow=!1}}},_=x,I=(i("ea45"),Object(m["a"])(_,a,s,!1,null,"345e25ce",null));t["a"]=I.exports},"333d":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[i("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},s=[],o=(i("c5f6"),i("ce84")),n={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,40]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&Object(o["a"])(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&Object(o["a"])(0,800)}}},r=n,c=(i("6cb3"),i("2877")),l=Object(c["a"])(r,a,s,!1,null,"6980a881",null);t["a"]=l.exports},"3fc8":function(e,t,i){},"433a":function(e,t,i){},"6cb3":function(e,t,i){"use strict";var a=i("1c4e"),s=i.n(a);s.a},"6da5":function(e,t,i){},"82a9":function(e,t,i){"use strict";var a=i("3fc8"),s=i.n(a);s.a},b4e5:function(e,t,i){"use strict";var a=i("433a"),s=i.n(a);s.a},b800:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{class:e.className},[i("input",{staticClass:"v-switch-input",attrs:{type:"checkbox",name:e.name,disabled:e.disabled},domProps:{checked:e.value},on:{change:function(t){return t.stopPropagation(),e.toggle(t)}}}),e._v(" "),i("div",{staticClass:"v-switch-core",style:e.coreStyle},[i("div",{staticClass:"v-switch-button",style:e.buttonStyle})]),e._v(" "),e.labels?[e.toggled?i("span",{staticClass:"v-switch-label v-left",style:e.labelStyle},[e._t("checked",[[e._v(e._s(e.labelChecked))]])],2):i("span",{staticClass:"v-switch-label v-right",style:e.labelStyle},[e._t("unchecked",[[e._v(e._s(e.labelUnchecked))]])],2)]:e._e()],2)},s=[],o=i("53ca"),n=(i("c5f6"),function(e){return"string"===typeof e}),r=function(e){return"object"===Object(o["a"])(e)},c=function(e,t){return r(e)&&e.hasOwnProperty(t)},l=function(e,t,i){return c(e,t)?e[t]:i},u=function(e){return"".concat(e,"px")},h=function(e,t){return"translate(".concat(e,", ").concat(t,")")},d="#75c791",p="#bfcbd9",g="on",m="off",f="#fff",v={name:"ToggleButton",props:{value:{type:Boolean,default:!1},name:{type:String},disabled:{type:Boolean,default:!1},tag:{type:String},sync:{type:Boolean,default:!1},speed:{type:Number,default:300},color:{type:[String,Object],validator:function(e){return n(e)||c(e,"checked")||c(e,"unchecked")||c(e,"disabled")}},switchColor:{type:[String,Object],validator:function(e){return n(e)||c(e,"checked")||c(e,"unchecked")}},cssColors:{type:Boolean,default:!1},labels:{type:[Boolean,Object],default:!1,validator:function(e){return"object"===Object(o["a"])(e)?e.checked||e.unchecked:"boolean"===typeof e}},height:{type:Number,default:22},width:{type:Number,default:50},margin:{type:Number,default:3},fontSize:{type:Number}},data:function(){return{toggled:!!this.value}},computed:{className:function(){var e=this.toggled,t=this.disabled;return["vue-js-switch",{toggled:e,disabled:t}]},coreStyle:function(){return{width:u(this.width),height:u(this.height),backgroundColor:this.cssColors?null:this.disabled?this.colorDisabled:this.colorCurrent,borderRadius:u(Math.round(this.height/2))}},buttonRadius:function(){return this.height-2*this.margin},distance:function(){return u(this.width-this.height+this.margin)},buttonStyle:function(){var e="transform ".concat(this.speed,"ms"),t=u(this.margin),i=this.toggled?h(this.distance,t):h(t,t),a=this.switchColor?this.switchColorCurrent:null;return{width:u(this.buttonRadius),height:u(this.buttonRadius),transition:e,transform:i,background:a}},labelStyle:function(){return{lineHeight:u(this.height),fontSize:this.fontSize?u(this.fontSize):null}},colorChecked:function(){var e=this.color;return r(e)?l(e,"checked",d):e||d},colorUnchecked:function(){return l(this.color,"unchecked",p)},colorDisabled:function(){return l(this.color,"disabled",this.colorCurrent)},colorCurrent:function(){return this.toggled?this.colorChecked:this.colorUnchecked},labelChecked:function(){return l(this.labels,"checked",g)},labelUnchecked:function(){return l(this.labels,"unchecked",m)},switchColorChecked:function(){return l(this.switchColor,"checked",f)},switchColorUnchecked:function(){return l(this.switchColor,"unchecked",f)},switchColorCurrent:function(){this.switchColor;return r(this.switchColor)?this.toggled?this.switchColorChecked:this.switchColorUnchecked:this.switchColor||f}},watch:{value:function(e){this.sync&&(this.toggled=!!e)}},methods:{toggle:function(e){var t=!this.toggled;this.sync||(this.toggled=t),this.$emit("input",t),this.$emit("change",{value:t,tag:this.tag,srcEvent:e})}}},w=v,b=(i("82a9"),i("2877")),y=Object(b["a"])(w,a,s,!1,null,"6c360b10",null);t["a"]=y.exports},b804:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{height:e.height+"px",zIndex:e.zIndex}},[i("div",{class:e.className,style:{top:e.isSticky?e.stickyTop+"px":"",zIndex:e.zIndex,position:e.position,width:e.width,height:e.height+"px"}},[e._t("default",[i("div",[e._v("sticky")])])],2)])},s=[],o=(i("c5f6"),{name:"Sticky",props:{stickyTop:{type:Number,default:60},zIndex:{type:Number,default:1},className:{type:String,default:""}},data:function(){return{active:!1,position:"",width:void 0,height:void 0,isSticky:!1}},mounted:function(){this.height=this.$el.getBoundingClientRect().height,window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize)},activated:function(){this.handleScroll()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize)},methods:{sticky:function(){this.active||(this.position="fixed",this.active=!0,this.width=this.width+"px",this.isSticky=!0)},handleReset:function(){this.active&&this.reset()},reset:function(){this.position="",this.width="auto",this.active=!1,this.isSticky=!1},handleScroll:function(){var e=this.$el.getBoundingClientRect().width;this.width=e||"auto";var t=this.$el.getBoundingClientRect().top;t<this.stickyTop?this.sticky():this.handleReset()},handleResize:function(){this.isSticky&&(this.width=this.$el.getBoundingClientRect().width+"px")}}}),n=o,r=i("2877"),c=Object(r["a"])(n,a,s,!1,null,null,null);t["a"]=c.exports},c66e:function(e,t,i){},cff6:function(e,t,i){"use strict";t["a"]={jpg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",psd:"image/photoshop"}},ea45:function(e,t,i){"use strict";var a=i("c66e"),s=i.n(a);s.a}}]);