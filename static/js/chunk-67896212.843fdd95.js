(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67896212"],{"0edf":function(t,o,e){},1506:function(t,o,e){},"3e64":function(t,o,e){},"42aa":function(t,o,e){"use strict";var i=e("7d8f"),a=e.n(i);a.a},"700e":function(t,o,e){},7241:function(t,o,e){"use strict";var i=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"robot-run-container",class:{none:0===t.left&&0===t.top},style:t.style},[i("md-tooltip",{attrs:{"md-direction":"top"}},[t._v(t._s(t.title))]),t._v(" "),i("img",{staticClass:"imgRobot",attrs:{src:e("1771")("./"+t.icon),alt:""}})],1)},a=[],n=(e("c5f6"),{name:"SvgRobot",props:{name:{type:String,default:""},left:{type:Number,default:0},top:{type:Number,default:0},width:{type:Number,default:0},title:{type:String,default:""},icon:{type:String,default:"robot1.svg"}},computed:{style:function(){return{left:"calc("+this.left+"% - 15px)",top:"calc("+this.top+"% - 15px)"}}}}),s=n,r=(e("9fcb"),e("2877")),c=Object(r["a"])(s,i,a,!1,null,"840487dc",null);o["a"]=c.exports},"7d8f":function(t,o,e){},"7eef":function(t,o,e){"use strict";var i=e("1506"),a=e.n(i);a.a},"8b4e":function(t,o,e){"use strict";var i=e("8eb6"),a=e.n(i);a.a},"8eb6":function(t,o,e){},"937b":function(t,o,e){},"9fcb":function(t,o,e){"use strict";var i=e("c720"),a=e.n(i);a.a},a506:function(t,o,e){},a55b:function(t,o,e){"use strict";e.d(o,"a",(function(){return i}));e("6b54"),e("28a5"),e("a481");function i(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,o){return String.fromCharCode("0x"+o)})))}},aa42:function(t,o,e){"use strict";var i=e("0edf"),a=e.n(i);a.a},b0b9:function(t,o,e){"use strict";var i=e("3e64"),a=e.n(i);a.a},bef1:function(t,o,e){"use strict";var i=e("700e"),a=e.n(i);a.a},bf4d:function(t,o,e){"use strict";var i=e("937b"),a=e.n(i);a.a},c499:function(t,o,e){"use strict";var i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"shape-container",style:{top:t.position.top+"%",left:t.position.left+"%",width:t.position.width+"%",height:t.position.height+"%"}},[e("md-tooltip",{attrs:{"md-direction":"top"}},[t._v(t._s(t.name))]),t._v(" "),e("svg",[e("polygon",{attrs:{points:t.pointsString}})])],1)},a=[],n={name:"SvgShape",props:{name:{type:String,default:""},position:{type:Object,default:function(){return[]}},points:{type:Array,default:function(){return[]}}},computed:{pointsString:function(){var t=[];if(0!==this.points.length){var o=[];o.push(this.points[0]),o.push([this.points[0][0],this.points[1][1]]),o.push(this.points[1]),o.push([this.points[1][0],this.points[0][0]]),t=o.map((function(t){return t[0]+","+t[1]}),this)}return t.join(" ")}}},s=n,r=(e("f0b8"),e("2877")),c=Object(r["a"])(s,i,a,!1,null,"2a9ae139",null);o["a"]=c.exports},c720:function(t,o,e){},d32c:function(t,o,e){},d89a:function(t,o,e){"use strict";var i=e("d32c"),a=e.n(i);a.a},f0b8:function(t,o,e){"use strict";var i=e("a506"),a=e.n(i);a.a},f5ac:function(t,o,e){"use strict";e.r(o);var i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{ref:"robotControl",staticClass:"app-container"},[e("div",{staticClass:"robot-control-container"},[e("robot-information",{attrs:{"robot-object":t.robotObject,"area-name":t.areaName}}),t._v(" "),e("v-card",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],ref:"robotControls",staticClass:"robot-map__container"},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"mapContainer",staticClass:"robot-map__wrap",attrs:{id:"mapContainer"}},[e("svg",{staticClass:"svgEditor"},[e("defs",[e("marker",{attrs:{id:"red-arrowhead",viewBox:"0 0 10 10",refX:"7",refY:"5",markerUnits:"strokeWidth",markerWidth:"5",markerHeight:"4",orient:"auto"}},[e("path",{attrs:{d:"M 0 0 L 10 5 L 0 10 z",stroke:"none",fill:"red"}})])]),t._v(" "),e("marker",{attrs:{id:"markerSquare",markerWidth:"7",markerHeight:"7",refX:"4",refY:"4",orient:"auto"}},[e("rect",{staticStyle:{stroke:"none",fill:"#000000"},attrs:{x:"1",y:"1",width:"5",height:"5"}})]),t._v(" "),e("line",{staticClass:"line",attrs:{x1:t.robotPoint[0],x2:t.arrowPoint[0],y1:t.robotPoint[1],y2:t.arrowPoint[1],stroke:"red","marker-end":"url(#red-arrowhead)","stroke-width":"4"}}),t._v(" "),t._l(t.roomPoints,(function(o,i){return e("circle",{key:i,attrs:{cx:o.x,cy:o.y,r:"7",fill:t.getPointFill(o)}})}))],2),t._v(" "),e("svg-robot",{attrs:{left:t.left,top:t.top,icon:t.robotObject.icon,title:t.robotObject.name}}),t._v(" "),t._l(t.objectList,(function(o,i){return e("svg-shape",{key:i,attrs:{position:o.position,points:o.newPoints,name:o.name},nativeOn:{click:function(e){return t.selectRoom(o)}}})})),t._v(" "),e("img",{ref:"mapContainer",attrs:{id:"mapImg",src:t.folderUpload+t.robotObject.map.thumb}})],2)]),t._v(" "),e("robot-actions",{attrs:{"area-no":t.robotObject.map.areaNo,"robot-object":t.robotObject}})],1)])},a=[],n=(e("28a5"),e("7f7f"),e("b85c")),s=e("5530"),r=e("2f62"),c=e("428d"),l=e.n(c),u=e("53d2"),d=e("6087"),h=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-card",{staticClass:"robot-info__container"},[e("div",{staticClass:"robot-avatar"},[e("v-card",{staticClass:"d-flex",staticStyle:{padding:"10px",border:"1px dashed #2f80ed","border-radius":"50%"},attrs:{flat:"",tile:""}},[e("img",{staticStyle:{"border-radius":"50%"},attrs:{src:t.folderUpload+t.robotObject.thumb,alt:""}})])],1),t._v(" "),e("div",{staticClass:"robot-info"},[e("div",{staticClass:"position"},[e("div",{staticClass:"top"},[e("div",{staticClass:"status"},[t._v("\n          Trạng thái hoạt động: "),null==t.robotStatus.pin||void 0==t.robotStatus.pin?e("span",{staticStyle:{color:"red"}},[t._v("Không có tín hiệu")]):e("span",{staticStyle:{color:"green"}},[t._v("Đang hoạt động")])]),t._v(" "),e("button",{staticClass:"btn-giamsat",on:{click:t.redirectDashboard}},[t._v("Giám sát robot")])]),t._v(" "),e("div",{staticClass:"bottom"},[t._v(" "+t._s(t._f("fullDatetime")(t.dateNow))+" ")])]),t._v(" "),e("div",{staticClass:"robot-info__top"},[e("div",{staticClass:"robot-name"},[t._v("\n        Thông tin robot:\n        "),e("span",[t._v(t._s(t.robotObject.code)+" - "+t._s(t.robotObject.name)+" "),void 0!=t.robotObject.robotVersion?e("span",[t._v("("+t._s(t.robotObject.robotVersion.name)+")")]):t._e()]),t._v(" "),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.generateTitleView("videoCall","dashboard"),placement:"top"}},[e("el-button",{staticClass:"btn-videocall",attrs:{icon:"el-icon-video-camera"},on:{click:function(o){return t.redirectVideoCall(t.robotObject.map)}}},[e("font-awesome-icon",{attrs:{icon:"video"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"map"},[t._v("\n        Địa điểm: "+t._s(t.areaName)+" - "+t._s(t.robotObject.map.name)+"\n      ")]),t._v(" "),e("hr")]),t._v(" "),e("div",{staticClass:"robot-info__bottom"},[e("div",{staticClass:"bottom-left"},[e("div",{staticClass:"room info-item"},[e("md-icon",{staticClass:"locationIcon infoIcon"},[t._v("location_on")]),t._v("\n          Vị trí ["+t._s(t.robotStatus.point_x)+", "+t._s(t.robotStatus.point_y)+", "+t._s(t.robotStatus.delta_deg)+"] "),""!==t.currentRoomName?e("span",[t._v(t._s(t.currentRoomName))]):t._e()],1)]),t._v(" "),e("div",{staticClass:"bottom-right"},[e("div",{staticClass:"wifi info-item",class:{active:1==t.robotStatus.networkStatus}},[e("md-icon",{staticClass:"infoIcon"},[t._v("wifi")]),t._v(" "),t.setting.isOnline?e("span",[t._v("Wifi")]):e("span",[t._v("Wifi-LAN")])],1),t._v(" "),e("div",{staticClass:"pin info-item active"},[e("md-icon",{staticClass:"infoIcon"},[t._v("battery_std")]),t._v("\n          Pin ("+t._s(t.robotStatus.pin)+"%)\n        ")],1),t._v(" "),e("div",{staticClass:"pin info-item",class:{active:1==t.robotStatus.barrier}},[e("md-icon",{staticClass:"infoIcon"},[t._v("label")]),t._v("\n          Vật cản\n        ")],1),t._v(" "),e("div",{staticClass:"bamvach info-item",class:{active:2==t.robotStatus.workMode}},[e("md-icon",{staticClass:"infoIcon"},[t._v("view_stream")]),t._v("\n          Bám vạch\n        ")],1),t._v(" "),e("div",{staticClass:"dkc info-item",class:{active:1==t.robotStatus.e_stop}},[e("md-icon",{staticClass:"infoIcon"},[t._v("pause_circle_filled")]),t._v("\n          Dừng khẩn cấp\n        ")],1),t._v(" "),e("div",{staticClass:"automatic info-item",class:{active:1==t.robotStatus.workMode}},[e("md-icon",{staticClass:"infoIcon"},[t._v("autorenew")]),t._v("\n          Tự động\n        ")],1),t._v(" "),e("div",{staticClass:"bt info-item",class:{active:0==t.robotStatus.workMode}},[e("font-awesome-icon",{staticClass:"awsIcon",attrs:{icon:"hand-point-up",color:t.manualColor}}),t._v("\n          Bằng tay\n        ")],1)])])])])},b=[],m=e("c1df"),f={name:"RobotControl",model:"robot/",robotControl:"robotcontrol/",modelArea:"area/"},p={name:"RobotInformation",props:{robotObject:{type:Object,default:function(){return{}}},areaName:{type:String,default:function(){return""}}},data:function(){return{folderUpload:"https://172.20.10.2:9000/agency/Images/User/",dateNow:""}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])({robotStatus:f.robotControl+"robotStatus",currentRoomName:f.robotControl+"currentRoomName",setting:"auth/setting"})),{},{manualColor:function(){var t="#828282";return"0"===this.robotStatus.workMode?t="green":"1"===this.robotStatus.workMode&&(t="#828282"),t}}),mounted:function(){this.interval=setInterval(this.updateTime,1e3)},beforeDestroy:function(){clearInterval(this.interval)},methods:{redirectDashboard:function(){window.location.href="/#/dashboard"},updateTime:function(){this.dateNow=m().format()},redirectVideoCall:function(t){window.location.href="/#/users/robots/call/"+t.id},generateTitleView:d["b"]}},v=p,g=(e("aa42"),e("2877")),_=Object(g["a"])(v,h,b,!1,null,"9e030c60",null),C=_.exports,y=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"robot-actions__container"},[e("automatic-action",{staticClass:"left",attrs:{"robot-object":t.robotObject,"area-no":t.areaNo},on:{clicked:t.onDoMission}}),t._v(" "),e("hand-action",{staticClass:"right",attrs:{"robot-object":t.robotObject,"area-no":t.areaNo},on:{"emit-action":t.onManualDoAction}})],1)},j=[],w=(e("c5f6"),function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-card",{staticClass:"automatic-wrap"},[e("div",{staticClass:"auto-title__wrap"},[e("div",{staticClass:"auto-title__left"},[t._v("Chế độ tự động")]),t._v(" "),e("div",{staticClass:"auto-title__right"},[e("font-awesome-icon",{attrs:{icon:"bell",color:"#409EFF"}}),t._v(" "),e("a",{staticStyle:{"margin-right":"10px"},on:{click:function(o){return t.openGetScheduleDialog()}}},[t._v("Lịch chạy robot")]),t._v(" "),e("font-awesome-icon",{attrs:{icon:"plus-circle",color:"#409EFF"}}),t._v(" "),e("a",{on:{click:function(o){return t.openRobotScheduleDialog()}}},[t._v("Thêm nhiệm vụ")])],1)]),t._v(" "),e("div",{staticClass:"auto_info__wrap"},[e("div",{staticClass:"auto_info__content"},[e("div",{staticClass:"info__item"},[e("div",{staticClass:"left"},[e("md-icon",[t._v("medical_services")])],1),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"value",staticStyle:{"min-height":"25px"}},[t._v(t._s(t.missionName))]),t._v(" "),e("div",{staticClass:"label"},[t._v("Chế độ đang làm việc")])])]),t._v(" "),e("div",{staticClass:"info__item"},[e("div",{staticClass:"left"},[e("md-icon",[t._v("view_list")])],1),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"value",staticStyle:{"min-height":"25px"}},t._l(t.areaRoomNameList,(function(o,i){return e("i",{key:i},[0!==i?e("i",[t._v("-")]):t._e(),t._v("\n              "+t._s(o)+"\n            ")])})),0),t._v(" "),e("div",{staticClass:"label"},[t._v("Danh sách phòng")])])])]),t._v(" "),e("button",{staticClass:"auto_info__button"},[0===t.workStatus?e("md-icon",{staticClass:"iconPause"},[t._v("pause")]):t._e(),t._v(" "),1===t.workStatus?e("md-icon",{staticClass:"iconPause"},[t._v("play_arrow")]):t._e()],1)]),t._v(" "),e("div",{staticClass:"auto_actions_wrap"},[e("div",{staticClass:"left"},[e("button",{staticClass:"btnAction",class:{active:"1"===t.robotStatus.workMode},on:{click:function(o){return t.doShortMission(t.shortMission.connectAction)}}},[t._v("Kết nối\n      ")])]),t._v(" "),e("div",{staticClass:"right"},t._l(t.firstAutoRobotList,(function(o,i){return e("button",{key:i,staticClass:"btn-long",class:t.setClassButton(o.code),on:{click:function(e){return t.setScheduleWithAnAction(o.code)}}},[t._v(t._s(o.actionName)+"\n      ")])})),0)]),t._v(" "),e("div",{staticClass:"auto_actions_wrap noMargin"},[e("div",{staticClass:"left"},[e("button",{staticClass:"btnAction",class:{active:"2"===t.mission},on:{click:function(o){return t.doShortMission(t.shortMission.resetAction)}}},[t._v("Reset\n      ")])]),t._v(" "),e("div",{staticClass:"right"},t._l(t.secondAutoRobotList,(function(o,i){return e("button",{key:i,staticClass:"btn-long",class:t.setClassButton(o.code),on:{click:function(e){return t.setScheduleWithAnAction(o.code)}}},[t._v(t._s(o.actionName)+"\n      ")])})),0)]),t._v(" "),e("v-dialog",{attrs:{"max-width":"550"},model:{value:t.showDialog1,callback:function(o){t.showDialog1=o},expression:"showDialog1"}},[e("v-card",[e("v-card-title",[t._v("Danh sách lịch chạy robot")]),t._v(" "),e("div",{staticClass:"md-contents"},[t.listRobotSchedule.length>0?e("md-table",{scopedSlots:t._u([{key:"md-table-row",fn:function(o){var i=o.item;return e("md-table-row",{},[e("md-table-cell",{attrs:{"md-label":t.generateTitleView("Tác vụ","camera")}},[t._v(t._s(i.actionName))]),t._v(" "),e("md-table-cell",{attrs:{"md-label":t.generateTitleView("Lịch chạy","camera")}},[t._v(t._s(i.scheduleTimeFormated)+"\n            ")])],1)}}],null,!1,561343596),model:{value:t.listRobotSchedule,callback:function(o){t.listRobotSchedule=o},expression:"listRobotSchedule"}}):e("div",{staticClass:"noCamera",staticStyle:{padding:"0 20px"}},[t._v(t._s(t.generateTitleView("noCamera","camera")))])],1),t._v(" "),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:function(o){return t.hideDialog1()}}},[t._v(t._s(t.generateTitleView("close","camera"))+"\n        ")])],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{"max-width":"550"},model:{value:t.showDialog,callback:function(o){t.showDialog=o},expression:"showDialog"}},[e("v-card",{staticClass:"robotSchedule"},[e("ValidationProvider",{attrs:{rules:"required",name:t.generateTitleView("Lệnh điều khiển","veeValidate")},scopedSlots:t._u([{key:"default",fn:function(o){var i=o.errors;return[e("div",{staticClass:"search"},[e("v-select",{attrs:{items:t.listRobotActions,"item-text":"actionName","item-value":"code",label:"Chọn lệnh điều khiển",dense:"",solo:""},model:{value:t.sheduleForm.robotActionModel,callback:function(o){t.$set(t.sheduleForm,"robotActionModel",o)},expression:"sheduleForm.robotActionModel"}})],1),t._v(" "),e("span",{staticClass:"vee-errors"},[t._v(t._s(i[0]))])]}}])}),t._v(" "),e("div",[e("span",{staticClass:"realSize"},[t._v("Tốc độ")]),t._v(" "),e("v-text-field",{attrs:{outlined:"",dense:""},model:{value:t.sheduleForm.speed,callback:function(o){t.$set(t.sheduleForm,"speed",o)},expression:"sheduleForm.speed"}})],1),t._v(" "),e("div",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sheduleForm.actionType,expression:"sheduleForm.actionType"}],attrs:{type:"radio",value:"1"},domProps:{checked:t._q(t.sheduleForm.actionType,"1")},on:{change:function(o){return t.$set(t.sheduleForm,"actionType","1")}}}),t._v(" Thực thi luôn\n        ")])]),t._v(" "),e("div",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sheduleForm.actionType,expression:"sheduleForm.actionType"}],attrs:{type:"radio",value:"2"},domProps:{checked:t._q(t.sheduleForm.actionType,"2")},on:{change:function(o){return t.$set(t.sheduleForm,"actionType","2")}}}),t._v(" Chọn thời gian\n        ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sheduleForm.scheduleTime,expression:"sheduleForm.scheduleTime"}],attrs:{id:"birthdaytime",type:"datetime-local",name:"birthdaytime"},domProps:{value:t.sheduleForm.scheduleTime},on:{input:function(o){o.target.composing||t.$set(t.sheduleForm,"scheduleTime",o.target.value)}}})]),t._v(" "),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:function(o){return t.hideDialog()}}},[t._v(t._s(t.generateTitleView("close","camera"))+"\n        ")]),t._v(" "),e("button",{staticClass:"btn-control btn-primary",on:{click:function(o){return t.setSchedule()}}},[t._v("Lập lịch")])],1)],1)],1)],1)}),A=[];e("4917");function S(t){if(Array.isArray(t))return t}function O(t,o){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var e=[],i=!0,a=!1,n=void 0;try{for(var s,r=t[Symbol.iterator]();!(i=(s=r.next()).done);i=!0)if(e.push(s.value),o&&e.length===o)break}catch(c){a=!0,n=c}finally{try{i||null==r["return"]||r["return"]()}finally{if(a)throw n}}return e}}var M=e("06c5");function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(t,o){return S(t)||O(t,o)||Object(M["a"])(t,o)||R()}e("ac6a"),e("a481");var N=e("a78e"),P=e.n(N),x=e("7eeb"),T=e("9b45"),D=e("2ef0"),F=e.n(D),L={robotControl:"robotcontrol/",robotAction:"robotaction/",robot:"robot/"},$={chuyenCom:5,thamBenhNhan:6,chuyenThuoc:7,thuRac:8,veLayDO:3,veGara:4},I={name:"AutomaticAction",props:{areaNo:{type:Number,default:1}},data:function(){return{shortMission:{connectAction:1,resetAction:2},currentMissionAdd:"",mode:1,showDialog:!1,showDialog1:!1,listQuery:{page:1,limit:1e3,name:"",status:null},listRobotSchedule:[],robotObject:{},sheduleForm:{actionType:1,speed:1},speed:1.5}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])({areaRoomList:L.robotControl+"areaRoomList",mission:L.robotControl+"mission",workStatus:L.robotControl+"workStatus",listRobotActions:L.robotAction+"listRobotActions",totalRobotActions:L.robotAction+"totalRobotActions",autoRobotActions:L.robotAction+"autoRobotActions",manualRobotActions:L.robotAction+"manualRobotActions",robotStatus:L.robotControl+"robotStatus"})),{},{firstAutoRobotList:function(){var t=this.orderedAutoRobotActions.length;return t>=4?this.orderedAutoRobotActions.slice(0,4):this.orderedAutoRobotActions.slice(0,t)},secondAutoRobotList:function(){var t=this.orderedAutoRobotActions.length;return t>4?this.orderedAutoRobotActions.slice(4,t):[]},orderedAutoRobotActions:function(){var t=this.$store.getters["robotaction/autoRobotActions"];return F.a.orderBy(t,"orderIndex")},areaRoomNameList:function(){var t=this.$store.getters["robotcontrol/areaRoomList"],o=t.map((function(t){return t.name.replace("Phòng ","")}));return o},missionName:function(){var t="";return this.mission===$.chuyenCom?t=this.getMissionName("Chuyển cơm đến phòng "):this.mission===$.thamBenhNhan?t=this.getMissionName("Thăm bệnh nhân tại phòng "):this.mission===$.chuyenThuoc?t=this.getMissionName("Chuyển thuốc đến phòng "):this.mission===$.thuRac?t=this.getMissionName("Thu rác tại phòng "):this.mission===$.veLayDO?t="Về lấy đồ":this.mission===$.veGara&&(t="Về gara"),t}}),mounted:function(){var t=this.$router.currentRoute.params.id;this.getRobot(t),this.getRobotActions()},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["d"])({mutChangeMission:L.robotControl+x["b"],mutChangeStatus:L.robotControl+x["c"]})),Object(r["b"])({actFetchAllRobotActions:L.robotAction+T["d"],actGetCurrentRobot:L.robot+u["d"],actFetchAllRobotSchedule:L.robotAction+T["g"],actCreateRobotSchedule:L.robotAction+T["i"]})),{},{getRobotActions:function(){this.actFetchAllRobotActions({current_page:this.listQuery.page,name:this.listQuery.name,is_active:this.listQuery.status,limit:this.listQuery.limit,isAutomaticAction:!0})},getMissionName:function(t){var o=P.a.get("rooms");if(null!=o&&void 0!=o&&""!=o){var e=o.replaceAll("_",",");return t+e}return t},getRobotSchedule:function(){this.actFetchAllRobotSchedule()},createSchedule:function(t,o,e,i,a,n,s,r){var c={robotId:t,robotCode:o,actionCode:e,actionType:i,mapCode:a,speed:n,roomList:s,scheduleTime:r};this.actCreateRobotSchedule(c)},getRoomList:function(){var t,o="",e=Object(n["a"])(this.areaRoomList.entries());try{for(e.s();!(t=e.n()).done;){var i=k(t.value,2),a=i[0],s=i[1],r=s.name.match(/\d+/)[0];a+1!==this.areaRoomList.length&&(r+="_"),o+=r}}catch(c){e.e(c)}finally{e.f()}return o},changeMission:function(t){this.mutChangeMission(t)},generateTitleView:d["b"],hideDialog:function(){this.showDialog=!1},hideDialog1:function(){this.showDialog1=!1},openDialog:function(){this.showDialog=!0},setScheduleWithAnAction:function(t){var o=this.orderedAutoRobotActions.filter((function(o){return o.code===t}))[0];if(o.needRoom){var e={speed:1,actionType:1,robotActionModel:t};this.sheduleForm=e,this.showDialog=!0}else{P.a.set("rooms","");var i="@".concat(this.mode,"#").concat(t,"#").concat(this.areaNo,"#").concat(this.speed,"#&_").concat(this.robotObject.code);this.$emit("clicked",i)}},setSchedule:function(){var t=this.areaNo,o=this.sheduleForm.speed,e=this.getRoomList();if(1===this.sheduleForm.actionType){if(1!==parseInt(this.robotStatus.workMode))return void this.$notify.warning({title:this.generateTitleView("error","message"),message:"Bạn cần kết nối chế độ điều khiển tự động để thực thi.",duration:2e3});if(0===parseInt(this.robotStatus.missionStatus))return void this.$notify.warning({title:this.generateTitleView("error","message"),message:"Robot chưa thực hiện xong nhiệm vụ.",duration:2e3})}if(""!==e)if(""!==this.sheduleForm.robotActionModel)if(2!==this.sheduleForm.actionType||""!==this.sheduleForm.scheduleTime){if(1===this.sheduleForm.actionType){var i="@!1#"+this.sheduleForm.robotActionModel+"#"+t+"#"+this.sheduleForm.speed+"#"+e+"&_"+this.robotObject.code;this.$emit("clicked",i),this.changeMission(this.sheduleForm.robotActionModel),this.currentMissionAdd=this.sheduleForm.robotActionModel,P.a.set("rooms",e)}else this.createSchedule(this.robotObject.id,this.robotObject.code,this.sheduleForm.robotActionModel,"2",t,o,e,this.sheduleForm.scheduleTime);this.hideDialog()}else this.$notify.error({title:this.generateTitleView("error","message"),message:"Bạn chưa chọn thời gian chạy lệnh",duration:2e3});else this.$notify.error({title:this.generateTitleView("error","message"),message:"Bạn chưa mã lệnh điều khiển",duration:2e3});else this.$notify.error({title:this.generateTitleView("error","message"),message:"Bạn chưa chọn danh sách phòng",duration:2e3})},openRobotScheduleDialog:function(){this.showDialog=!0,this.sheduleForm={actionType:1,speed:1}},getRobot:function(t){var o=this;this.actGetCurrentRobot(t).then((function(t){var e=t.payload.records;o.robotObject=JSON.parse(JSON.stringify(e))}))},openGetScheduleDialog:function(){var t=this;this.actFetchAllRobotSchedule().then((function(o){t.listRobotSchedule=o.payload.records,t.showDialog1=!0}))},doShortMission:function(t){var o="@".concat(this.mode,"#").concat(t,"#").concat(this.areaNo,"#").concat(this.speed,"#&_").concat(this.robotObject.code);this.$emit("clicked",o),P.a.set("rooms","")},setClassButton:function(t){return this.mission==t?"superActive":this.currentMissionAdd==t?"active":void 0}})},V=I,z=(e("b0b9"),Object(g["a"])(V,w,A,!1,null,"1a97739a",null)),B=z.exports,G=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-card",{staticClass:"hand-wrap"},[e("div",{staticClass:"auto-title__wrap"},[t._v("Chế độ bằng tay")]),t._v(" "),e("div",{staticClass:"hand-action__wrap"},[e("div",{staticClass:"left"},[e("vibot-button",{attrs:{name:t.labelActions.connectManual,"list-object":t.listManualAction,"area-no":t.areaNo,"is-connect":t.isAutomatic,"robot-object":t.robotObject},on:{"emit-action":t.onDoMissionConnect}}),t._v(" "),t._l(t.dynamicManualAction,(function(o,i){return e("action-button",{key:i,attrs:{"list-object":t.listManualAction,"area-no":t.areaNo,"is-connect":t.isAutomatic,"robot-object":t.robotObject,order:o.orderIndex},on:{"emit-action":t.onDoMission}})}))],2),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"control__inner"},[e("div",{staticClass:"rows row1"},[e("icon-button",{attrs:{name:t.labelActions.up,icon:"arrow-up","list-object":t.listManualAction,"area-no":t.areaNo,"is-connect":t.isAutomatic,"robot-object":t.robotObject,"action-param":t.actionParram,step:1},on:{"emit-action":t.onDoMission}})],1),t._v(" "),e("div",{staticClass:"rows row2"},[e("icon-button",{attrs:{name:t.labelActions.left,icon:"arrow-left","list-object":t.listManualAction,"area-no":t.areaNo,"is-connect":t.isAutomatic,"robot-object":t.robotObject,"action-param":t.actionParram,step:2},on:{"emit-action":t.onDoMission}}),t._v(" "),e("icon-button",{attrs:{name:t.labelActions.down,icon:"pause","list-object":t.listManualAction,"area-no":t.areaNo,"is-connect":t.isAutomatic,"action-param":t.actionParram,"robot-object":t.robotObject,step:3},on:{"emit-action":t.onDoMission}}),t._v(" "),e("icon-button",{attrs:{name:t.labelActions.right,icon:"arrow-right","list-object":t.listManualAction,"area-no":t.areaNo,"is-connect":t.isAutomatic,"action-param":t.actionParram,"robot-object":t.robotObject,step:4},on:{"emit-action":t.onDoMission}})],1),t._v(" "),e("div",{staticClass:"rows row3"},[e("icon-button",{attrs:{name:t.labelActions.down,icon:"arrow-down","list-object":t.listManualAction,"area-no":t.areaNo,"is-connect":t.isAutomatic,"action-param":t.actionParram,"robot-object":t.robotObject,step:"5"},on:{"emit-action":t.onDoMission}})],1),t._v(" "),e("div",{staticClass:"row4"},[e("button",{on:{click:function(o){return t.openGetActionParramDialog()}}},[t._v("Tham số")])])])])]),t._v(" "),e("v-dialog",{attrs:{"max-width":"550"},model:{value:t.dialogModal,callback:function(o){t.dialogModal=o},expression:"dialogModal"}},[e("v-card",{staticClass:"actionParam"},[e("div",{staticClass:"dialogSetting"},[e("div",[e("span",{staticClass:"realSize"},[t._v("Bước sang trái")]),t._v(" "),e("v-text-field",{attrs:{outlined:"",dense:""},model:{value:t.actionParram.leftSeed,callback:function(o){t.$set(t.actionParram,"leftSeed",o)},expression:"actionParram.leftSeed"}})],1),t._v(" "),e("div",[e("span",{staticClass:"realSize"},[t._v("Bước sang phải")]),t._v(" "),e("v-text-field",{attrs:{outlined:"",dense:""},model:{value:t.actionParram.rightSeed,callback:function(o){t.$set(t.actionParram,"rightSeed",o)},expression:"actionParram.rightSeed"}})],1),t._v(" "),e("div",[e("span",{staticClass:"realSize"},[t._v("Bước tiến")]),t._v(" "),e("v-text-field",{attrs:{outlined:"",dense:""},model:{value:t.actionParram.forwardSeed,callback:function(o){t.$set(t.actionParram,"forwardSeed",o)},expression:"actionParram.forwardSeed"}})],1),t._v(" "),e("div",[e("span",{staticClass:"realSize"},[t._v("Bước lùi")]),t._v(" "),e("v-text-field",{attrs:{outlined:"",dense:""},model:{value:t.actionParram.backwardSeed,callback:function(o){t.$set(t.actionParram,"backwardSeed",o)},expression:"actionParram.backwardSeed"}})],1)]),t._v(" "),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:function(o){return t.hideDialog()}}},[t._v(t._s(t.generateTitleView("close","camera"))+"\n        ")]),t._v(" "),e("button",{staticClass:"btn-control btn-primary",on:{click:function(o){return t.updateActionParram()}}},[t._v("Lưu")])],1)],1)],1)],1)},U=[],E=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("button",{staticClass:"btnAction btnConnect",class:{active:!t.isConnect},attrs:{disabled:!t.isConnect},on:{click:t.emitAction}},[t._v("\n  "+t._s(t.title)+"\n")])},W=[],H=(e("6762"),e("2fdb"),{name:"VibotButton",props:{name:{type:String,default:""},listObject:{type:Array,default:function(){return[]}},speed:{type:Number,default:1.5},areaNo:{type:Number,default:0},mode:{type:Number,default:2},isConnect:{type:Boolean,default:!1},robotObject:{type:Object,default:function(){}}},data:function(){return{object:{},title:""}},watch:{listObject:{deep:!0,handler:function(t,o){var e=this,i=this.listObject.filter((function(t){return t.actionName===e.name}));this.object=i[0],this.object.actionName.includes("Kết nối")?this.title="Kết nối":this.title=this.object.actionName}}},methods:{emitAction:function(){var t="@".concat(this.mode,"#").concat(this.object.code,"#").concat(this.areaNo,"#").concat(this.speed,"#&_").concat(this.robotObject.code);this.$emit("emit-action",t)}}}),X=H,J=(e("bef1"),Object(g["a"])(X,E,W,!1,null,"4d4dd5ec",null)),Y=J.exports,K=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("button",{staticClass:"btnAction",class:{disable:t.isConnect},attrs:{disabled:t.isConnect},on:{click:t.emitAction}},[t._v("\n  "+t._s(t.title)+"\n")])},Q=[],q={name:"ActionButton",props:{name:{type:String,default:""},listObject:{type:Array,default:function(){return[]}},speed:{type:Number,default:1.5},areaNo:{type:Number,default:0},mode:{type:Number,default:2},isConnect:{type:Boolean,default:!1},order:{type:Number,default:function(){return 1}},robotObject:{type:Object,default:function(){}}},data:function(){return{}},watch:{listObject:{deep:!0,handler:function(t,o){var e=this,i=this.listObject.filter((function(t){return t.orderIndex===e.order}));this.object=i[0],this.object.actionName.includes("Kết nối")?this.title="Kết nối":this.title=this.object.actionName}}},computed:{object:function(){var t=this,o=this.listObject.filter((function(o){return o.orderIndex===t.order}));return o[0]},title:function(){if(this.object.actionName.includes("Kết nối"))t="Kết nối";else var t=this.object.actionName;return t}},methods:{emitAction:function(){var t="@".concat(this.mode,"#").concat(this.object.code,"#").concat(this.areaNo,"#").concat(this.speed,"#&_").concat(this.robotObject.code);this.$emit("emit-action",t)}}},Z=q,tt=(e("8b4e"),Object(g["a"])(Z,K,Q,!1,null,"eab8731e",null)),ot=tt.exports,et=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("button",{directives:[{name:"show",rawName:"v-show",value:0!=t.step,expression:"step != 0"}],staticClass:"btnAction",class:{disable:t.isConnect},attrs:{disabled:t.isConnect},on:{click:t.emitAction}},[e("font-awesome-icon",{attrs:{icon:t.icon,color:"black"}})],1)},it=[],at={name:"IconButton",props:{name:{type:String,default:""},listObject:{type:Array,default:function(){return[]}},speed:{type:Number,default:1.5},areaNo:{type:Number,default:0},mode:{type:Number,default:2},isConnect:{type:Boolean,default:!1},icon:{type:String,default:""},robotObject:{type:Object,default:function(){}},actionParam:{type:Object,default:function(){}},step:{type:Number,default:function(){return 0}}},data:function(){return{object:{}}},watch:{listObject:{deep:!0,handler:function(t,o){var e=this,i=this.listObject.filter((function(t){return t.orderIndex===e.step}));this.object=i[0]}}},methods:{emitAction:function(){console.log(this.actionParam);var t="@".concat(this.mode,"#").concat(this.object.code,"#").concat(this.areaNo,"#").concat(this.speed,"#").concat(this.actionParam.leftSeed,"#").concat(this.actionParam.rightSeed,"#").concat(this.actionParam.backwardSeed,"#").concat(this.actionParam.forwardSeed,"#&_").concat(this.robotObject.code);this.$emit("emit-action",t)}}},nt=at,st=(e("d89a"),Object(g["a"])(nt,et,it,!1,null,"75a723f8",null)),rt=st.exports,ct={robotControl:"robotcontrol/",robotActions:"robotaction/"},lt={name:"HandAction",components:{VibotButton:Y,ActionButton:ot,IconButton:rt},props:{areaNo:{type:Number,default:1},robotObject:{type:Object,default:function(){return{}}}},data:function(){return{dialogModal:!1,listQuery:{page:1,limit:20,name:"",status:null},actionParram:{leftSeed:1,rightSeed:1,forwardSeed:1,backwardSeed:1},labelActions:{connectManual:"Kết nối – bằng tay",nangHang:"Nâng hàng",haHang:"Hạ hàng",bamDuong:"Bám đường",up:"Tiến",down:"Lùi",left:"Trái",right:"Phải",pause:"Dừng"}}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])({mission:ct.robotControl+"mission",workStatus:ct.robotControl+"workStatus",isAutomatic:ct.robotControl+"isAutomatic",listManualAction:ct.robotActions+"listManualAction"})),{},{dynamicManualAction:function(){var t=this.listManualAction.filter((function(t){return t.orderIndex>5}));return t.reverse()}}),mounted:function(){this.getManualListAction(),this.getActionParram()},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["b"])({actGetManualList:ct.robotActions+T["f"],actGetActionParram:ct.robotActions+T["e"],actUpdateActionParram:ct.robotActions+T["j"]})),Object(r["d"])({mutUpdateRobotStatus:ct.robotControl+x["a"]})),{},{getManualListAction:function(){this.actGetManualList({current_page:this.listQuery.page,name:this.listQuery.name,is_active:this.listQuery.status,limit:this.listQuery.limit,showInManualRobotDashboard:!0})},getActionParram:function(){var t=this;this.actGetActionParram().then((function(o){t.loading=!1,t.actionParam=o.payload.records}))},updateActionParram:function(){var t=this;this.actUpdateActionParram(this.actionParram).then((function(o){o.isSuccess&&(t.$notify.success({title:t.generateTitleView("success","message"),message:t.generateTitleView("successMessage","message"),duration:2e3}),t.hideDialog()),t.loading=!1}))},onDoMission:function(t){this.$emit("emit-action",t)},onDoMissionConnect:function(t){this.$emit("emit-action",t)},hideDialog:function(){this.dialogModal=!1},showDialog:function(){this.dialogModal=!0},openGetActionParramDialog:function(){var t=this;this.actGetActionParram().then((function(o){t.actionParam=o.payload.records,t.loading=!1,t.dialogModal=!0}))},generateTitleView:d["b"]})},ut=lt,dt=(e("bf4d"),Object(g["a"])(ut,G,U,!1,null,"d9bd3c5a",null)),ht=dt.exports,bt=e("a55b"),mt={name:"RobotActions",components:{AutomaticAction:B,HandAction:ht},props:{areaNo:{type:Number,default:1},robotObject:{type:Object,default:function(){return{}}}},data:function(){return{folderUpload:"https://172.20.10.2:9000/agency/Images/User//"}},mounted:function(){this.socket=this.initSocket()},methods:{initSocket:function(){var t="wss://172.20.10.2:9000/agency/robotUdp",o=this,e=new WebSocket(t);return e.onopen=function(){console.log("Connected.")},e.onclose=function(t){setTimeout((function(){o.socket=o.initSocket()}),1e3),t.wasClean?console.log("Disconnected."):console.log("Connection lost."),console.log("Code: "+t.code+". Reason: "+t.reason)},e.onmessage=function(t){var o=t.data;console.log("Data received: "+o)},e.onerror=function(t){console.log("Error: "+t.message)},e},onDoMission:function(t){console.log(t);var o=Object(bt["a"])(t);this.socket.send(o)},onManualDoAction:function(t){var o=Object(bt["a"])(t);this.socket.send(o)}}},ft=mt,pt=(e("7eef"),Object(g["a"])(ft,y,j,!1,null,"d8e04252",null)),vt=pt.exports,gt=e("c499"),_t=e("7241"),Ct={name:"RobotControl",model:"robot/",robotControl:"robotcontrol/",modelArea:"area/"},yt={name:Ct.name,directives:{resize:l.a},components:{RobotInformation:C,RobotActions:vt,SvgShape:gt["a"],SvgRobot:_t["a"]},data:function(){return{areaName:"",isUploadThumb:!1,robotObject:{map:{}},folderUpload:"https://172.20.10.2:9000/agency/Images/User/",objectList:[],listAreaEvent:[],areaNameList:[],sockets:null,sizeX:0,sizeY:0,roomPoints:[],loading:!0,pointsColor:"teal",robotPoint:[],pointsString:"",scaleMapX:0,scaleMapY:0,arrowPoint:[],realRoomList:[]}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])({robotStatus:Ct.robotControl+"robotStatus",areaRoomList:Ct.robotControl+"areaRoomList",robotCode:Ct.robotControl+"robotCode",currentRobotCode:Ct.robotControl+"currentRobotCode"})),{},{left:function(){return 100*this.robotStatus.point_x/(100*this.robotObject.map.width)},top:function(){return 100*this.robotStatus.point_y/(100*this.robotObject.map.height)}}),watch:{areaRoomList:{deep:!0,handler:function(t,o){this.roomPoints=[];var e,i=this.$refs.mapContainer.clientWidth,a=this.$refs.mapContainer.clientHeight,s=Object(n["a"])(o);try{for(s.s();!(e=s.n()).done;){var r=e.value,c=Math.round(a*r.points[2].y/this.sizeY),l=Math.round(i*r.points[2].x/this.sizeX);this.roomPoints.push({top:r.points[2].y/this.sizeY*100,left:r.points[2].x/this.sizeX*100,obj:r,y:c,x:l})}}catch(u){s.e(u)}finally{s.f()}}},robotStatus:{deep:!0,handler:function(t){this.currentRobotCode,this.robotPoint=[];var o,e=this.$refs.mapContainer.clientWidth,i=this.$refs.mapContainer.clientHeight,a=this.robotStatus.point_x,s=this.robotStatus.point_y,r=!0,c=Object(n["a"])(this.realRoomList);try{for(c.s();!(o=c.n()).done;){var l=o.value,u=Math.abs(parseFloat(a)-parseFloat(l.realX3)),d=Math.abs(parseFloat(s)-parseFloat(l.realY3));if(u<=100*parseFloat(l.deltax)&&d<=100*parseFloat(l.deltay)){this.mutationChangeCurrentName(l.name),r=!1;break}}}catch(v){c.e(v)}finally{c.f()}r&&this.mutationChangeCurrentName("");var h=Math.round(this.robotStatus.point_x/this.robotObject.map.width*100*e/100/100),b=Math.round(this.robotStatus.point_y/this.robotObject.map.height*100*i/100/100);this.robotPoint.push(h),this.robotPoint.push(b);var m=parseInt(t.delta_deg),f=this.robotPoint[0]+30*Math.cos(this.convertDeg(m)*Math.PI/180),p=this.robotPoint[1]+30*Math.sin(this.convertDeg(m)*Math.PI/180);this.arrowPoint=[],this.arrowPoint.push(f),this.arrowPoint.push(p)}},roomPoints:{deep:!0,handler:function(){var t=this.roomPoints.map((function(t){return t.x+","+t.y}),this),o=t.join(" ");this.pointsString=o}}},mounted:function(){this.changeAppTitle("HỆ THỐNG ĐIỀU KHIỂN ROBOT");var t=this.$router.currentRoute.params.id;this.getRobot(t),this.sockets=this.initSocket(),this.$store.commit("robotcontrol/clearRoomList")},destroyed:function(){this.sockets.close()},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["b"])({actGetCurrentRobot:Ct.model+u["d"],actGetCurrentArea:Ct.modelArea+"actFetchOneArea"})),Object(r["d"])({mutUpdateRobotStatus:Ct.robotControl+x["f"],mutationUpdateRoomAreaList:Ct.robotControl+x["d"],mutationChangeRobotCode:Ct.robotControl+"mutationChangeRobotCode",mutationChangeCurrentName:Ct.robotControl+x["e"],changeAppTitle:"app/CHANGE_APP_TITLE"})),{},{getPointFill:function(){return this.pointsColor},getRobot:function(t){var o=this;this.actGetCurrentRobot(t).then((function(t){var e=o.$refs.mapContainer.clientWidth;o.loading=!1;var i=t.payload.records;o.robotObject=JSON.parse(JSON.stringify(i)),o.initMap();var a=JSON.parse(o.robotObject.map.jsonData);o.scaleMapX=e/a.sizeMap.w;var s,r=a.sizeMap,c=o.robotObject.map,l=Object(n["a"])(a.objectList);try{for(l.s();!(s=l.n()).done;){var u=s.value,d=u.points[2],h=d.x/r.w*100,b=d.y/r.h*100;u.realX3=h*c.width/100*100,u.realY3=b*c.height/100*100}}catch(m){l.e(m)}finally{l.f()}o.realRoomList=a.objectList,o.sizeX=a.sizeMap.w,o.sizeY=a.sizeMap.h,o.mutationChangeRobotCode(o.robotObject.code),o.getArea(o.robotObject.map.parentId)}))},initMap:function(){var t=this.$refs.mapContainer.clientWidth;if(this.robotObject.map.jsonData){var o=JSON.parse(this.robotObject.map.jsonData);if(o){var e=o.sizeMap,i=t/e.w;this.calcPosition(i)}else this.objectList=[]}},calcPosition:function(t){if(this.robotObject.map.jsonData){var o,e=JSON.parse(this.robotObject.map.jsonData),i=e.sizeMap,a=e.objectList,s=Object(n["a"])(a);try{for(s.s();!(o=s.n()).done;){var r=o.value;if("object"===r.type){var c=r.points,l=JSON.parse(JSON.stringify(c));l.pop();var u,d=[],h=[],b=Object(n["a"])(l);try{for(b.s();!(u=b.n()).done;){var m=u.value;d.push(m.x),h.push(m.y)}}catch(M){b.e(M)}finally{b.f()}var f=[Math.min.apply(Math,d),Math.min.apply(Math,h)],p=[Math.max.apply(Math,d),Math.max.apply(Math,h)],v=f[0]/i.w*100,g=f[1]/i.h*100,_=(p[0]-f[0])/i.w*100,C=(p[1]-f[1])/i.h*100,y={left:v,top:g,width:_,height:C};r.position=y;var j,w=[],A=Object(n["a"])(l);try{for(A.s();!(j=A.n()).done;){var S=j.value,O=[Math.round((S.x-f[0])*t),Math.round((S.y-f[1])*t)];w.push(O)}}catch(M){A.e(M)}finally{A.f()}r.newPoints=w}}}catch(M){s.e(M)}finally{s.f()}this.objectList=a}},onResize:function(){this.initMap(),this.roomPoints=[];var t,o=this.$refs.mapContainer.clientWidth,e=this.$refs.mapContainer.clientHeight,i=Object(n["a"])(this.areaRoomList);try{for(i.s();!(t=i.n()).done;){var a=t.value,s=Math.round(e*a.points[2].y/this.sizeY),r=Math.round(o*a.points[2].x/this.sizeX);this.roomPoints.push({top:a.points[2].y/this.sizeY*100,left:a.points[2].x/this.sizeX*100,obj:a,y:s,x:r})}}catch(c){i.e(c)}finally{i.f()}},initSocket:function(){var t="wss://172.20.10.2:9000/agency/downloadMedia",o=new WebSocket(t),e=this;return o.onopen=function(){console.log("Connected.")},o.onclose=function(t){t.wasClean?console.log("Disconnected."):console.log("Connection lost."),console.log("Code: "+t.code+". Reason: "+t.reason)},o.onmessage=function(t){var o=t.data;if("@"===o[0]){var i=o.split("#");e.robotObject.code===i[i.length-1]&&e.mutUpdateRobotStatus(o)}},o.onerror=function(t){console.log("Error: "+t.message)},o},selectRoom:function(t){this.mutationUpdateRoomAreaList(t)},convertDeg:function(t){return-t},generateTitleView:d["b"],getArea:function(t){var o=this;this.actGetCurrentArea(t).then((function(t){o.areaName=t.payload.records.name}))}})},jt=yt,wt=(e("42aa"),Object(g["a"])(jt,i,a,!1,null,"7d6a7710",null));o["default"]=wt.exports}}]);